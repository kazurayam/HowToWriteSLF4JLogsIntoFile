= How to write SLF4J logs into file; i.e. How to customize Logback configuration in Katalon Studio

This is a link:https://katalon.com/katalon-studio[Katalon Studio] for demonstration purpose.
You can download the zip from the link:https://github.com/kazurayam/HowToWriteSLF4JLogsIntoFile/releases/[Releases] page on the GitHub.

This project was created using link:https://github.com/katalon-studio/katalon-studio/releases[version 8.3.0] but it should work on any versions.

I created this project in the hope that it can reply to an old question posted in the Katalon user forum at April 2019:

- link:https://forum.katalon.com/t/write-the-sl4j-logs-into-a-text-file/23332["Write the slf4j logs into a text file"]

== Problem to solve

In a Katalon Studio project, I created link:https://github.com/kazurayam/HowToWriteSLF4JLogsIntoFile/blob/develop/Scripts/runMyApp3/Script1683151952333.groovy[`Test Cases/runMyApps`]:

[source]
----
include::Scripts/runMyApp3/Script1683151952333.groovy[]
----

`runMyApps` calls a Groovy class.

- link:https://github.com/kazurayam/HowToWriteSLF4JLogsIntoFile/blob/develop/Keywords/com/kazurayam/myapp/MyApp3.groovy[`Keywords/com/kazurayam/myapp/MyApp3.groovy`]:

This calls another Groovy class:

- link:https://github.com/kazurayam/HowToWriteSLF4JLogsIntoFile/blob/develop/Keywords/com/kazurayam/myapp/Foo.groovy[]

[source]
----
include::Keywords/com/kazurayam/myapp/Foo.groovy[]
----

If you read the source of the `Foo` class, you would notice that it generates quite a lot of logs (1000 lines) using the `org.slf4j.Logger`. And each line of log will be very long (3.8K characters actually). The size of log will be 1000 * 3.8K = 3.8Mega characters.

I rand the `Test Cases/runMyApp`. I got the following result:

image::https://kazurayam.github.io/HowToWriteSLF4JLogsIntoFile/images/01_log_lines_disappeared.png[]

In the Console tab of Katalon Studio, I expected to see 1000 lines of SLF4J logs from the `Foo` class. But actually I saw only the last part. Obviously, my `Foo` class emitted too much logs so that the logs exceeded the buffer size of the Console display.

I wanted to see the whole SLF4J logs from my application class. How can I manage it? --- **I want to write the SLF4J logs into a text file**.

== Solution

Katalon Studio uses the link:https://www.baeldung.com/slf4j-with-log4j2-logback[SLF4J with Logback].

In the offical Logback documentation, I found a sample code how to customize the Logback Logger while specifying XML conf file.

- link:https://logback.qos.ch/manual/configuration.html#joranDirectly[Chapter3 Configuration, Invoking JoranConfigurator directly]

Using this technique, I should be able to customize the `LoggingContext` of Logback so that the logs out of my Test Case to be written into a text file.


